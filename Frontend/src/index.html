<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>RAG Chatbot Professional</title>
    <link rel="stylesheet" href="index.css" />
    <!-- Markdown Support -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>
  <body>
    <div id="app">
      <!-- SIDEBAR: Contains document status and chat history -->
      <aside id="sidebar">
        <div class="sidebar-header">
          <h2>RAG Chat</h2>
          <button id="new-chat-btn">+ New Chat</button>
        </div>
        <!-- Indexed Documents List -->
        <div class="sidebar-section">
          <div class="sidebar-section-header">
            <h3>Documents</h3>
            <div class="sidebar-actions">
              <button id="sidebar-upload-file" title="Upload File">
                <svg viewBox="0 0 24 24" width="16" height="16"><path fill="currentColor" d="M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"/></svg>
              </button>
              <button id="sidebar-upload-folder" title="Upload Folder">
                <svg viewBox="0 0 24 24" width="16" height="16"><path fill="currentColor" d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"/></svg>
              </button>
            </div>
          </div>
          <ul id="document-list">
            <li>No documents uploaded</li>
          </ul>
        </div>
        <!-- Historical Chat Sessions -->
        <div class="sidebar-section">
          <h3>History</h3>
          <ul id="chat-history">
            <li>Initial Session</li>
          </ul>
        </div>
      </aside>

      <!-- MAIN CONTENT: The active chat interface -->
      <main id="main-content">
        <div id="chat-container">
          <!-- Bot and User bubbles will be dynamically injected here -->
          <div class="message bot-message">
            <div class="message-content">Hello! I'm your RAG assistant. Ask me anything about your documents.</div>
          </div>
        </div>

        <!-- INPUT AREA: Document previews and text input -->
        <div id="input-area">
          <div id="input-container">
            <!-- Dynamically populated when user uploads files but hasn't clicked 'send' -->
            <div id="uploaded-docs-preview" class="uploaded-docs-preview"></div>
            
            <div class="input-row">
              <!-- Upload Menu -->
              <div class="upload-dropdown">
                <button id="upload-btn" title="Upload Media">
                  <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"/></svg>
                </button>
                <div id="upload-menu" class="dropdown-content">
                  <button class="upload-item" data-type="document">
                    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,9V3.5L18.5,9H13Z"/></svg>
                    <span>Document</span>
                  </button>
                  <button class="upload-item" data-type="video">
                    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z"/></svg>
                    <span>Video</span>
                  </button>
                  <button class="upload-item" data-type="audio">
                    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M12,2A3,3 0 0,0 9,5V11A3,3 0 0,0 12,14A3,3 0 0,0 15,11V5A3,3 0 0,0 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"/></svg>
                    <span>Audio</span>
                  </button>
                  <button class="upload-item" data-type="image">
                    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z"/></svg>
                    <span>Image</span>
                  </button>
                </div>
              </div>
              
              <textarea id="message-input" placeholder="Ask anything about your documents..." rows="1"></textarea>
              
              <button id="mic-btn" title="Record Speech Query">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"/></svg>
              </button>

              <button id="send-button">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/></svg>
              </button>
            </div>
          </div>
          <div class="input-footer">RAG Chatbot can make mistakes. Verify important info.</div>
        </div>
      </main>
    </div>
    <script src="renderer.js"></script>
  </body>
</html>
